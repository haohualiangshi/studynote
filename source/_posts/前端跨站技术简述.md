---
layout: velocity使用
title: 前端跨站技术简述
tags: 跨平台开发
date: 2019-05-31 16:07:46
---


跨平台框架特性：

- 使用 HTML5 + CSS + JavaScript 开发
- 跨平台重用代码
- 丰富的UI库
- 提供访问设备原生API的 JavaScript API 包装器
- 解决原生开发中机型适配的难题
- 提供打包、部署的工具或服务
- 都需要学习自身封装的 JavaScript API

筛选框架要求：

- 性能：运行速度快
- UI：提供接近原生的UI体验
- 插件多，文档丰富，开发效率高，容易扩展和维护
- 满足业务需求

目前跨平台技术领域的三个方向；

1. HTML5 + Native混合开发：包含：
   * DCloud
   * weex
2. 中间语言编译开发：包含：
   * React Native
   * Flutter
3. PWA

#### DCloud

使用DCloud旗下的MUI前端框架实现页面逻辑；通过该公司旗下HBuilderx 实现将app的打包；

- 设计思路不同，MUI坚持用原生JS做，不依赖jQuery或者Angularjs。
- MUI调用了5+ Runtime的底层原生加速，比不带原生加速的框架更快。

​    但是，DCloud毕竟是个新平台，发展才2年，新产品内部存在的Bug还需要很多的测试。在其官方社区中，不少开发者也在呼吁DCloud尽快完善文档和框架，打包需要将代码上传到云打包；相比原生应用，性能上有所损耗，特别是一些交互比较复杂、内容比较多的页面，会比较卡。

#### Weex app

是由alibaba开源的可以说是基于VueJs的前端跨平台框架；优点是更加轻量易上手；缺点是：

- 学习资料少，从问世的时间上来看，`Weex` 的学习资料比较少。而`RN`使用的开发者比较多, 社区活跃，围绕react产生了许多开发框架。
   这一点，个人认为是weex最大的缺点，甚至是weex能不能很好发展下去的关键因素，虽然`react-native`和`weex`大部分普通界面的开发都可以用js的方式来开发， 但很多移动端的功能，必须是原生开发，然后对接到js端。 比如，地图控件， 设备信息， 二维码扫描，摄像头的调用，视频播放，本地图片选择，动画绘制，日历组件，通讯录信息获取，国内的一些服务，qq登录，支付宝，极光推送，等等等等。 这些常用组件, 以及一些框架，`react-native`因为社区活跃，已经有不少优秀的轮子在`github`上。 `weex`起步较晚，且国外开发者可能并不怎么看好，这方面的资源相对较少。 虽然`weex`搞了个 [插件市场](https://link.jianshu.com?t=https://market.dotwe.org/ext/list.htm#15)，但上面的资源太少，且看不出能火爆起来的趋势。
- 社区活跃度不够，`Weex` 相较于 `RN` 起步比较晚，`Weex`目前社区主要由阿里人员在维护, 相较于已经成熟的`RN`社区目前还有很多不足。用的人相对`RN`少很多，目前没有形成一个良好的生态。作为开发者，如果碰到一个问题，搜索不到，抛出去也没人很好的解答，自己摸索的成本就会很高了。 可能解决一个问题的成本就已经远远大于节省下来的一点学习成本。

-  `Weex` 现在存在的 BUG 相较于 `RN` 还比较多，对于使用来说会有一些影响。

#### React Native

React Native是Facebook早先开源的 Web UI框架React在原生移动应用平台的衍生产物，底层对Android和iOS平台的原生代码进行封装，通过使用Java就可以编写出原生代码;

**优点**：效率体验接近Native App，发布和开发成本低于Native App
**缺点**：学习有一定成本，且文档较少，免不了踩坑
**举个栗子**：Facebook、youtube、discord、QQ、百度等等

#### PWA

PWA（Progressive Web App）意为渐进式增强Web应用，它不是一门技术，而是一个概念，使用多种技术来增强 Web App的功能：

- 用Service Worker + HTTPS +Cache Api + indexedDB 等一系列web技术实现离线加载和缓存
- 实现了推送和通知
- 可以直接添加到手机的桌面上
- 使用Service Worker可以进行后台同步

总结起来，PWA的主要的能力就是离线、推送、桌面访问，可以说PWA赋予Web App原生的体验，但是PWA一直不温不火的原因主要有以下几点：

- 游览器对PWA技术支持还不够全面， 不是每一款游览器都能100%的支持PWA
- 国内一些手机厂商对Android系统各种魔改，对PWA的兼容性不好，甚至不支持PWA
- 平台的竞争，iOS对PWA的支持力度远远低于Android，所以PWA在iOS上的体验打了折扣。PWA面对类似的微信小程序和快程序的竞争中，并没有优

综合上述：个人认为如果产品需求是展示类的；对原生手势性操作和手机性能没有很强烈的要求可以使用DCloud旗下的MUI框架；借助HBuilder实现打包；假如产品需求涉及的原生性操作相对多的，考虑性能的个人建议React Native；